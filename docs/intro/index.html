<!doctype html>
<html lang="en-GB" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-1.0.4 docs-doc-page docs-doc-id-intro" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Introduction | REST Docs KDSL</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://cares0.github.io/rest-docs-kdsl/docs/intro"><meta data-rh="true" property="og:locale" content="en_GB"><meta data-rh="true" property="og:locale:alternate" content="ko"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.0.4"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.0.4"><meta data-rh="true" name="docsearch:version" content="1.0.4"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.0.4"><meta data-rh="true" property="og:title" content="Introduction | REST Docs KDSL"><meta data-rh="true" name="description" content="This library provides a Kotlin DSL to simplify and enhance the readability of code"><meta data-rh="true" property="og:description" content="This library provides a Kotlin DSL to simplify and enhance the readability of code"><link data-rh="true" rel="icon" href="/rest-docs-kdsl/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://cares0.github.io/rest-docs-kdsl/docs/intro"><link data-rh="true" rel="alternate" href="https://cares0.github.io/rest-docs-kdsl/docs/intro" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://cares0.github.io/rest-docs-kdsl/ko/docs/intro" hreflang="ko"><link data-rh="true" rel="alternate" href="https://cares0.github.io/rest-docs-kdsl/docs/intro" hreflang="x-default"><meta name="google-site-verification" content="QsEzQT9h2oy4eEo8LmlJguhlEYBogNZ3DQEA-IsVvcY"><link rel="stylesheet" href="/rest-docs-kdsl/assets/css/styles.c81f8394.css">
<script src="/rest-docs-kdsl/assets/js/runtime~main.e70b1b3a.js" defer="defer"></script>
<script src="/rest-docs-kdsl/assets/js/main.a7ada59b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rest-docs-kdsl/"><b class="navbar__title text--truncate">REST Docs KDSL</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rest-docs-kdsl/docs/intro">Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" sidebarid="docsVersionDropdown" href="/rest-docs-kdsl/docs/intro">1.0.4</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/rest-docs-kdsl/docs/next/intro">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/rest-docs-kdsl/docs/intro">1.0.4</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/cares0/rest-docs-kdsl" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/rest-docs-kdsl/docs/intro" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-GB">English</a></li><li><a href="/rest-docs-kdsl/ko/docs/intro" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/rest-docs-kdsl/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rest-docs-kdsl/docs/category/getting-started">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rest-docs-kdsl/docs/category/guides">Guides</a><button aria-label="Expand sidebar category &#x27;Guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rest-docs-kdsl/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Introduction</span><meta itemprop="position" content="1"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.0.4</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Introduction</h1></header>
<p>This library provides a Kotlin DSL to simplify and enhance the readability of code
used for documenting APIs with Spring REST Docs.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-ksp-the-library-analyzes-spring-handlers-at-compile-timeand-generates-dsl-classes-for-each-handlerthese-generated-dsl-classes-allow-you-to-write-spring-rest-docs-test-codeand-generate-adoc-files-for-each-api">Using <a href="https://kotlinlang.org/docs/ksp-overview.html" target="_blank" rel="noopener noreferrer">KSP</a>, the library analyzes Spring handlers at compile time
and generates DSL classes for each handler.
These generated DSL classes allow you to write Spring REST Docs test code
and generate adoc files for each API.<a href="#using-ksp-the-library-analyzes-spring-handlers-at-compile-timeand-generates-dsl-classes-for-each-handlerthese-generated-dsl-classes-allow-you-to-write-spring-rest-docs-test-codeand-generate-adoc-files-for-each-api" class="hash-link" aria-label="Direct link to using-ksp-the-library-analyzes-spring-handlers-at-compile-timeand-generates-dsl-classes-for-each-handlerthese-generated-dsl-classes-allow-you-to-write-spring-rest-docs-test-codeand-generate-adoc-files-for-each-api" title="Direct link to using-ksp-the-library-analyzes-spring-handlers-at-compile-timeand-generates-dsl-classes-for-each-handlerthese-generated-dsl-classes-allow-you-to-write-spring-rest-docs-test-codeand-generate-adoc-files-for-each-api">​</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="existing-issues">Existing Issues<a href="#existing-issues" class="hash-link" aria-label="Direct link to Existing Issues" title="Direct link to Existing Issues">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-complex-code-structure">1. Complex Code Structure<a href="#1-complex-code-structure" class="hash-link" aria-label="Direct link to 1. Complex Code Structure" title="Direct link to 1. Complex Code Structure">​</a></h3>
<p>Let&#x27;s consider documenting an API that requires one query parameter in the request
and responds with a JSON body containing two fields. Using Spring REST Docs, the code might look like this:</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MockMvcRestDocumentation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;identifier&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RequestDocumentation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">queryParameters</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RequestDocumentation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">parameterWithName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;param1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">optional</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">description</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;param1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PayloadDocumentation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">responseFields</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PayloadDocumentation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">fieldWithPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;field1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">type</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">JsonFieldType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">STRING</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">description</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;field1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PayloadDocumentation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">fieldWithPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;field2&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">type</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">JsonFieldType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">NUMBER</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">attributes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Attributes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">key</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;format&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">value</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;number&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">description</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;field2&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Even for a simple API like this, you need to write multiple lines of code.</p>
<p>Now imagine documenting an API with a large number of request and response elements.
The source code could easily extend to dozens or even hundreds of lines, making it difficult to maintain.
Additionally, writing the documentation is cumbersome due to the numerous packages that need to be imported.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-inconvenience-of-checking-api-specifications">2. Inconvenience of Checking API Specifications<a href="#2-inconvenience-of-checking-api-specifications" class="hash-link" aria-label="Direct link to 2. Inconvenience of Checking API Specifications" title="Direct link to 2. Inconvenience of Checking API Specifications">​</a></h3>
<p>When documenting an API after it has been developed, as opposed to writing test code first,
you need to check the handler code to recall the request parameters and response fields.
Without remembering the specifics of the API, you must manually verify each field&#x27;s name while writing the documentation.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-maintenance-challenges">3. Maintenance Challenges<a href="#3-maintenance-challenges" class="hash-link" aria-label="Direct link to 3. Maintenance Challenges" title="Direct link to 3. Maintenance Challenges">​</a></h3>
<p>Ideally, APIs should not change frequently.
However, if the API changes and the test code isn’t updated first,
you’ll need to update the documentation code accordingly.
In such cases, you have to find the corresponding part of the API documentation manually
or correct it based on errors in the actual test results.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="improvements">Improvements<a href="#improvements" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-simplification-with-kotlin-dsl">1. Simplification with Kotlin DSL<a href="#1-simplification-with-kotlin-dsl" class="hash-link" aria-label="Direct link to 1. Simplification with Kotlin DSL" title="Direct link to 1. Simplification with Kotlin DSL">​</a></h3>
<p>DSL stands for Domain Specific Language, which refers to a language tailored to a specific domain.</p>
<p>Kotlin supports features like extension function, infix notation, functional programming, and operator overloading,
and more, which can be leveraged to create DSLs
This library uses these features of Kotlin to simplify verbose Spring REST Docs code into a DSL
tailored to the Spring REST Docs domain.</p>
<p>Let’s rewrite the previous Spring REST Docs example using the Kotlin DSL provided by this library.</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">ExampleApiSpec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;identifier&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    queryParameters </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        param1 means </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;param1&quot;</span><span class="token plain"> isOptional </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    responseBody </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        field1 means </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;field1&quot;</span><span class="token plain"> typeOf STRING</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        field2 means </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;field2&quot;</span><span class="token plain"> typeOf NUMBER formattedAs </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;number&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This code is much more readable and provides clear descriptions for each field.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-ease-of-checking-api-specifications">2. Ease of Checking API Specifications<a href="#2-ease-of-checking-api-specifications" class="hash-link" aria-label="Direct link to 2. Ease of Checking API Specifications" title="Direct link to 2. Ease of Checking API Specifications">​</a></h3>
<p>All DSLs can be written based on Kotlin&#x27;s functional programming,
with each function having a specific DSL class as its receiver.</p>
<p>In the example above, <code>queryParameters</code> and <code>responseBody</code> functions are member functions of the DSL class <code>ExampleApiSpec</code>,
and the second parameter of the <code>document</code> function is a function with <code>ExampleApiSpec</code> as its receiver.</p>
<p>Thus, by leveraging the code completion feature of the IDE,
you can easily verify the API specifications using the <code>this</code> keyword.</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">ExampleApiSpec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;identifier&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">queryParameters</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">param1 means </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;param1&quot;</span><span class="token plain"> isOptional </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">responseBody</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">field1 means </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;field1&quot;</span><span class="token plain"> typeOf STRING</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">field2 means </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;field2&quot;</span><span class="token plain"> typeOf NUMBER formattedAs </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;number&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When you type the <code>this</code> keyword, the IDE&#x27;s code completion will show the callable <code>queryParameters</code> and <code>responseBody</code> functions.
Similarly, you can view all member properties like <code>param1</code> and <code>field1</code> within each function.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-detecting-changes-at-compile-time">3. Detecting Changes at Compile Time<a href="#3-detecting-changes-at-compile-time" class="hash-link" aria-label="Direct link to 3. Detecting Changes at Compile Time" title="Direct link to 3. Detecting Changes at Compile Time">​</a></h3>
<p>This library uses KSP to generate DSL-related implementations at compile time.
This allows you to identify changes through compile errors rather than having to run tests,
making it easier to maintain the documentation code.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--next" href="/rest-docs-kdsl/docs/category/getting-started"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Getting Started</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#using-ksp-the-library-analyzes-spring-handlers-at-compile-timeand-generates-dsl-classes-for-each-handlerthese-generated-dsl-classes-allow-you-to-write-spring-rest-docs-test-codeand-generate-adoc-files-for-each-api" class="table-of-contents__link toc-highlight">Using KSP, the library analyzes Spring handlers at compile time
and generates DSL classes for each handler.
These generated DSL classes allow you to write Spring REST Docs test code
and generate adoc files for each API.</a></li><li><a href="#existing-issues" class="table-of-contents__link toc-highlight">Existing Issues</a><ul><li><a href="#1-complex-code-structure" class="table-of-contents__link toc-highlight">1. Complex Code Structure</a></li><li><a href="#2-inconvenience-of-checking-api-specifications" class="table-of-contents__link toc-highlight">2. Inconvenience of Checking API Specifications</a></li><li><a href="#3-maintenance-challenges" class="table-of-contents__link toc-highlight">3. Maintenance Challenges</a></li></ul></li><li><a href="#improvements" class="table-of-contents__link toc-highlight">Improvements</a><ul><li><a href="#1-simplification-with-kotlin-dsl" class="table-of-contents__link toc-highlight">1. Simplification with Kotlin DSL</a></li><li><a href="#2-ease-of-checking-api-specifications" class="table-of-contents__link toc-highlight">2. Ease of Checking API Specifications</a></li><li><a href="#3-detecting-changes-at-compile-time" class="table-of-contents__link toc-highlight">3. Detecting Changes at Compile Time</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/cares0" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://cares-log.tistory.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:cares00000@gmail.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 YoungJun Kim. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>