<!doctype html>
<html lang="ko" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-intro" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">소개 | REST Docs KDSL</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://cares0.github.io/rest-docs-kdsl/ko/docs/next/intro"><meta data-rh="true" property="og:locale" content="ko"><meta data-rh="true" property="og:locale:alternate" content="en_GB"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="소개 | REST Docs KDSL"><meta data-rh="true" name="description" content="이 라이브러리는 Spring REST Docs의 문서 작성 코드를 더 간단하고, 가독성있게 작성할 수 있도록 Kotlin DSL을 제공합니다."><meta data-rh="true" property="og:description" content="이 라이브러리는 Spring REST Docs의 문서 작성 코드를 더 간단하고, 가독성있게 작성할 수 있도록 Kotlin DSL을 제공합니다."><link data-rh="true" rel="icon" href="/rest-docs-kdsl/ko/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://cares0.github.io/rest-docs-kdsl/ko/docs/next/intro"><link data-rh="true" rel="alternate" href="https://cares0.github.io/rest-docs-kdsl/docs/next/intro" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://cares0.github.io/rest-docs-kdsl/ko/docs/next/intro" hreflang="ko"><link data-rh="true" rel="alternate" href="https://cares0.github.io/rest-docs-kdsl/docs/next/intro" hreflang="x-default"><meta name="google-site-verification" content="QsEzQT9h2oy4eEo8LmlJguhlEYBogNZ3DQEA-IsVvcY"><link rel="stylesheet" href="/rest-docs-kdsl/ko/assets/css/styles.54acce2f.css">
<script src="/rest-docs-kdsl/ko/assets/js/runtime~main.3ff7ae1d.js" defer="defer"></script>
<script src="/rest-docs-kdsl/ko/assets/js/main.e00b6074.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="메인" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="사이드바 펼치거나 접기" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rest-docs-kdsl/ko/"><b class="navbar__title text--truncate">REST Docs KDSL</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rest-docs-kdsl/ko/docs/next/intro">문서</a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" sidebarid="docsVersionDropdown" href="/rest-docs-kdsl/ko/docs/next/intro">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/rest-docs-kdsl/ko/docs/next/intro">Next</a></li><li><a class="dropdown__link" href="/rest-docs-kdsl/ko/docs/intro">1.0.4</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/cares0/rest-docs-kdsl" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>한국어</a><ul class="dropdown__menu"><li><a href="/rest-docs-kdsl/docs/next/intro" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-GB">English</a></li><li><a href="/rest-docs-kdsl/ko/docs/next/intro" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ko">한국어</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="문서 사이드바" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/rest-docs-kdsl/ko/docs/next/intro">소개</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rest-docs-kdsl/ko/docs/next/category/getting-started">시작하기</a><button aria-label="사이드바 분류 &#x27;시작하기&#x27; 펼치기" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rest-docs-kdsl/ko/docs/next/category/guides">가이드</a><button aria-label="사이드바 분류 &#x27;가이드&#x27; 펼치기" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>REST Docs KDSL<!-- --> <b>Next</b> 문서는 아직 정식 공개되지 않았습니다.</div><div class="margin-top--md">최신 문서는 <b><a href="/rest-docs-kdsl/ko/docs/intro">최신 버전</a></b> (<!-- -->1.0.4<!-- -->)을 확인하세요.</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="홈" class="breadcrumbs__link" href="/rest-docs-kdsl/ko/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">소개</span><meta itemprop="position" content="1"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">버전: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">이 페이지에서</button></div><div class="theme-doc-markdown markdown"><header><h1>소개</h1></header>
<p>이 라이브러리는 Spring REST Docs의 문서 작성 코드를 더 간단하고, 가독성있게 작성할 수 있도록 Kotlin DSL을 제  공합니다.</p>
<p><a href="https://kotlinlang.org/docs/ksp-overview.html" target="_blank" rel="noopener noreferrer">KSP</a>를 통해 컴파일 시점에 스프링 핸들러를 분석하여 각 핸들러마다 DSL 클래스를 생성합니다.
생성된 DSL 클래스를 통해 하나의 API에 대한 Spring REST Docs 테스트 코드를 작성하고 adoc 파일을 생성할 수 있습니다.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="기존의-문제점">기존의 문제점<a href="#기존의-문제점" class="hash-link" aria-label="기존의 문제점에 대한 직접 링크" title="기존의 문제점에 대한 직접 링크">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-복잡한-코드-구조">1. 복잡한 코드 구조<a href="#1-복잡한-코드-구조" class="hash-link" aria-label="1. 복잡한 코드 구조에 대한 직접 링크" title="1. 복잡한 코드 구조에 대한 직접 링크">​</a></h3>
<p>요청 시 쿼리 파라미터 1개가 필요하고, 바디에 필드가 2개 있는 JSON을 응답하는 API의 문서를 작성하기 위해
Spring REST Docs를 사용하여 코드를 작성해봅시다.</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MockMvcRestDocumentation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;identifier&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RequestDocumentation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">queryParameters</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RequestDocumentation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">parameterWithName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;param1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">optional</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">description</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;param1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PayloadDocumentation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">responseFields</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PayloadDocumentation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">fieldWithPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;field1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">type</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">JsonFieldType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">STRING</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">description</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;field1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PayloadDocumentation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">fieldWithPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;field2&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">type</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">JsonFieldType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">NUMBER</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">attributes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Attributes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">key</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;format&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">value</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;number&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">description</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;field2&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위와 같이 간단한 API임에도 불구하고, 여러 줄의 소스코드를 작성해야 합니다.</p>
<p>만약 요청 및 응답에 사용되는 요소들이 엄청 많은 API에 대해 문서를 작성해야 한다고 생각해봅시다.
소스코드는 수십 수백줄을 넘어가게 되어 유지보수 하기에 굉장히 힘들고,
처 음 코드를 작성하면 Import 해야 하는 패키지도 많기 때문에 문서를 작성하기 굉장히 불편합니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-api-스펙-확인의-번거로움">2. API 스펙 확인의 번거로움<a href="#2-api-스펙-확인의-번거로움" class="hash-link" aria-label="2. API 스펙 확인의 번거로움에 대한 직접 링크" title="2. API 스펙 확인의 번거로움에 대한 직접 링크">​</a></h3>
<p>테스트 코드를 먼저 작성하는 경우가 아니라, API를 개발한 후 문서를 작성하는 경우
해당 API가 어떤 스펙으로 이루어져 있는지 일일이 기억하고 있지 않는 이상 핸들러 코드를 확인해가며 요청 파라미터가 뭔지, 응답 바디에는 어떤 필드들이 있는지
각각의 필요한 요소들의 이름들을 확인해 가면서 문서를 작성해야 합니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-유지보수의-어려움">3. 유지보수의 어려움<a href="#3-유지보수의-어려움" class="hash-link" aria-label="3. 유지보수의 어려움에 대한 직접 링크" title="3. 유지보수의 어려움에 대한 직접 링크">​</a></h3>
<p>되도록 API가 변경되는 일은 없어야겠지만, 테스트 코드를 먼저 수정하고 API를 수정하는 경우가 아니라면 API 수정에 따라 문서 작성 코드도 수정해야 합니다.
이런 경우 직접 해당 API를 테스트 하는 부분을 찾아가 수정하거나, 실제 테스트의 결과의 오류를 보고 찾아가 수정해야 합니다.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="개선사항">개선사항<a href="#개선사항" class="hash-link" aria-label="개선사항에 대한 직접 링크" title="개선사항에 대한 직접 링크">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-kotlin-dsl로-간소화">1. Kotlin DSL로 간소화<a href="#1-kotlin-dsl로-간소화" class="hash-link" aria-label="1. Kotlin DSL로 간소화에 대한   직접 링크" title="1. Kotlin DSL로 간소화에 대한 직접 링크">​</a></h3>
<p>DSL은 Domain Specific Language의 약자로, 특정 도메인에 국한된, 특정 도메인을 위해 만들어진 언어를 의미합니다.</p>
<p>Kotlin은 확장함수, 중위 표기 함수, 함수형 프로그래밍, 연산자 오버로딩 등을 지원하기 때문에 이를 활용해 DSL을 만들 수 있습니다.
이 라이브러리는 이러한 Kotlin의 특징을 이용하여 장황한 코드를 Spring REST Docs 도메인에 특화된 DSL로 간소화합니다.</p>
<p>위에서 작성했던 Spring REST Docs 예시 코드를 이 라이브러리에서 만든 Kotlin DSL로 변경해보겠습니다.</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">ExampleApiSpec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;identifier&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    queryParameters </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        param1 means </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;param1&quot;</span><span class="token plain"> isOptional </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    responseBody </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        field1 means </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;field1&quot;</span><span class="token plain"> typeOf STRING</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        field2 means </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;field2&quot;</span><span class="token plain"> typeOf NUMBER formattedAs </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;number&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>코드가 이전보다 훨씬 가독성이 좋으며, 필드에 대한 설명이 명확해졌습니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2--api-스펙-확인의-용이성">2.  API 스펙 확인의 용이성<a href="#2--api-스펙-확인의-용이성" class="hash-link" aria-label="2.  API 스펙 확인의 용이성에 대한 직접 링크" title="2.  API 스펙 확인의 용이성에 대한 직접 링크">​</a></h3>
<p>모든 DSL은 Kotlin의 함수형 프로그래밍을 기반으로 작성할 수 있으며, 각 함수는 특정 DSL 클래스를 수신객체로 가지는 함수입니다.</p>
<p>위의 1번 예시를 다시 살펴보면, <code>queryParameters</code>, <code>responseBody</code> 함수는 DSL을 제공하는 <code>ExampleApiSpec</code>의 멤버 함수이며,
<code>document</code> 함수의 2번째 파라미터로 들어가는 함수는 <code>ExampleApiSpec</code>을 수신객체로 가지는 함수입니다.</p>
<p>따라서 IDE의 코드 컴플리션 기능을 활용한다면 <code>this</code> 키워드를 통해 해당 API가 어떤 스펙으로 이루어져 있는지 손쉽게 확인할 수 있습니다.</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">ExampleApiSpec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;identifier&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">queryParameters</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">param1 means </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;param1&quot;</span><span class="token plain"> isOptional </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">responseBody</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">field1 means </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;field1&quot;</span><span class="token plain"> typeOf STRING</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">field2 means </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;field2&quot;</span><span class="token plain"> typeOf NUMBER formattedAs </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;number&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>this</code> 키워드를 작성하면 IDE의 코드 컴플리션에 호출 가능한 <code>queryParameters</code>, <code>responseBody</code> 함수가 보여집니다.
각 함수 내부의 <code>param1</code>, <code>field1</code>과 같은 프로퍼티 역시 <code>this</code> 키워드를 통해 멤버 프로퍼티를 모두 확인할 수 있습니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-컴파일-시점에-변경점-파악">3. 컴파일 시점에 변경점 파악<a href="#3-컴파일-시점에-변경점-파악" class="hash-link" aria-label="3. 컴파일 시점에 변경점 파악에 대한 직접 링크" title="3. 컴파일 시점에 변경점 파악에 대한 직접 링크">​</a></h3>
<p>이 라이브러리는 KSP를 통해 컴파일 시점에 DSL 관련 구현체들을 생성합니다.
따라서 코드 수정 시 테스트를 실행시키지 않고 컴파일 오류를 통해 변경점을 파악할 수 있습니다.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="문서 페이지"><a class="pagination-nav__link pagination-nav__link--next" href="/rest-docs-kdsl/ko/docs/next/category/getting-started"><div class="pagination-nav__sublabel">다음</div><div class="pagination-nav__label">Getting Started</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#기존의-문제점" class="table-of-contents__link toc-highlight">기존의 문제점</a><ul><li><a href="#1-복잡한-코드-구조" class="table-of-contents__link toc-highlight">1. 복잡한 코드 구조</a></li><li><a href="#2-api-스펙-확인의-번거로움" class="table-of-contents__link toc-highlight">2. API 스펙 확인의 번거로움</a></li><li><a href="#3-유지보수의-어려움" class="table-of-contents__link toc-highlight">3. 유지보수의 어려움</a></li></ul></li><li><a href="#개선사항" class="table-of-contents__link toc-highlight">개선사항</a><ul><li><a href="#1-kotlin-dsl로-간소화" class="table-of-contents__link toc-highlight">1. Kotlin DSL로 간소화</a></li><li><a href="#2--api-스펙-확인의-용이성" class="table-of-contents__link toc-highlight">2.  API 스펙 확인의 용이성</a></li><li><a href="#3-컴파일-시점에-변경점-파악" class="table-of-contents__link toc-highlight">3. 컴파일 시점에 변경점 파악</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 YoungJun Kim. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>